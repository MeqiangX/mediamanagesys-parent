# 项目日记

--- 

### 2019年4月10日20:10:59
> 今日主要学习了SpringSecurity 在uc模块中整合，但是不太顺利，有点卡主，目前可以拦截认证以及权限拦截，算是一个开始，现在暂时想不出来
，打算明天先将前台模块接口先完善再回头解决权限这块


| 计划  | 模块  | 详细 | 计划时间 | 进度 |
| :------------ |:---------------:|:---------------:|:---------------:|-----:|
| 电影详情 | 前台 | 电影详情 | 4/11 | 0% |
| 电影页默认展示 | 前台 | 电影页默认展示正在热映的电影列表 | 4/11 | 0% |
| 6个榜单的数据 | 定时任务 | 新增6张榜单表从定时任务插入数据 修改原来只有一张电影详情表 这6张表的数据在详情表中也有 主要是为了前台的榜单展示 | 4/11 | 20% |
| 电影搜索 | 前台 | 前台的电影搜索(考虑用es 或者 直接用数据库) | 4/13 | 0% |
| 购票功能 | 前台 | 选场次购票 | 4/14 | 0% |
| 待定 | 待定 | 待定 | 待定 | 待定 |

![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMg8zQZzTq4qfHMHn7tWuuZvRSNMlxN01gVgVzS6AmtU9bwfSkHQ)


### 2019年4月11日21:34:31
> 今天主要是将定时任务补充和完善，建立了6个榜单表，跑任务去发送api请求来补数据，定为每天0点开始跑 每天一次，因为榜单是每天跟新的，所以任务会将表数据先清理再插入，将之前的插入主数据表的任务替换成插入这6个榜单之前先去插主数据表，基本完成，然后就是加入了影院表，和省市区的表，补入数据，完成定位功能，后台上在排片的时候多了一个影院选择的操作，由之前的放映厅->选片->选座 变为 地区->影院->放映厅->选片->选座  后台上会多出一个影院和地区放映厅的配置，总体修改应该不大，明后两天完善好，然后今天也开始做前台的功能，4/11的电影详情以及榜单都完成了，那明天的重点应该是在后台的功能修改完善和前台的选场次。

| 计划  | 模块  | 详细 | 计划时间 | 进度 |
| :------------ |:---------------:|:---------------:|:---------------:|-----:|
| 电影详情 | 前台 | 电影详情 | 4/11 | 100% |
| 电影页默认展示 | 前台 | 电影页默认展示正在热映的电影列表(其他5个榜单的显示也完成了) | 4/11 | 100% |
| 6个榜单的数据 | 定时任务 | 新增6张榜单表从定时任务插入数据 修改原来只有一张电影详情表 这6张表的数据在详情表中也有 主要是为了前台的榜单展示 | 4/11 | 100% |
| 榜单的筛选和排序条件 | 前台 |榜单的筛选和排序条件(排序：时间，评价等 筛选：类别、区域、年代) | 4/12 | 0% |
| 后台影院和地区相关的逻辑功能添加 | 后台 | 后台影院和地区相关的逻辑功能添加 | 4/12 | 0% |
| 电影搜索 | 前台 | 前台的电影搜索(考虑用es 或者 直接用数据库) | 4/13 | 0% |
| 购票功能 | 前台 | 选场次购票 | 4/14 | 0% |
| 待定 | 待定 | 待定 | 待定 | 待定 |

<img src="http://wx4.sinaimg.cn/large/7280659bgy1ffyvv5vlk2j20hs0hs406.jpg" width=300 height=300/>


### 2019年4月12日21:27:27
> 今天主要是完成了后台的影院相关的功能，包括修改之前的排片逻辑，finshed，然后就是前台的购票功能也完成，接下来要开发支付功能和退票功能，以及对定时任务的完善，清理已经结束的场次信息和记录，和短信功能的完善，对购票成功的用户发送短信，以及在开播前一个小时发送提示短信，然后剩余就是电影的搜索和榜单的删选和排序功能

| 计划  | 模块  | 详细 | 计划时间 | 进度 |
| :------------ |:---------------:|:---------------:|:---------------:|-----:|
| 榜单的筛选和排序条件 | 前台 |榜单的筛选和排序条件(排序：时间，评价等 筛选：类别、区域、年代) | 4/13 | 0% |
| 短信接口的完善 | 后台 | 对订票成功的用户发送短信 | 4/13 | 0% |
| 退票功能 | 前台 | 退票 | 4/13 | 0% |
| 支付功能 | 前台 | 支付功能 | 4/13 | 0% |
| 订单管理 | 后台 | 订单管理 | 4/13 | 0% |
| 前台首页 | 前端 | 前台首页 | 4/14 | 0% |
| 电影搜索 | 前台 | 前台的电影搜索(考虑用es 或者 直接用数据库) | 4/15 | 0% |


### 2019年4月17日22:04:03

| 计划  | 模块  | 详细 | 计划时间 | 进度 |
| :------------ |:---------------:|:---------------:|:---------------:|-----:|
| 榜单的筛选和排序条件 | 前台 |榜单的筛选和排序条件(排序：时间，评价等 筛选：类别、区域、年代) | 4/13 | 完成排序 |
| 短信接口的完善 | 后台 | 对订票成功的用户发送短信 | 4/13 | 0% |
| 退票功能 | 前台 | 退票 | 4/13 | 0% |
| 支付功能 | 前台 | 支付功能 | 4/13 | 0% |
| 订单管理 | 后台 | 订单管理 | 4/13 | 0% |
| 前台首页 | 前端 | 前台首页 | 4/14 | 100% |
| 电影搜索 | 前台 | 前台的电影搜索(考虑用es 或者 直接用数据库) | 4/15 | 0% |

## 2019年4月18日09:06:32 

1. 首页logo以及地区的完善完成
2. 开始开发其他的前台页面，以首页为基准点，进行各个页面的跳转，电影详情页，购票页，影院页，榜单页，搜索页

> 截止到晚上 2019年4月18日22:29:11  完成首页 header 和 footer 的抽取 和 基本完成电影详情页面 明天再调整一下样式 返回的movieVo 加上了导演 编剧 演员的对象数组 明天计划完成详情 然后开始做榜单页

## 2019年4月19日19:51:44

1. 电影详情页完成，电影页面也完成
2. 剩余页面：榜单页，影院页，搜索页，购票页，登录注册
3. 目前完成页面(首页，电影详情页，电影页)

## 2019年4月22日12:26:56

1. 首页，详情，电影，榜单页完成
2. 剩余：影院，搜索，购票，登录注册，预计在这周完成

## 2019年4月22日18:21:41

1. 跟新- 搜索页完成 (目前完成：首页 详情 电影 榜单 搜索)
2. 剩余： 影院 购票 登录注册 个人

## 2019年4月23日15:48:29 

1. 跟新： 完成地区选择控件，因为定位和数据库的数据id无法对应，无法完成定位和地区选择一致，故只是做地区的选择
2. 开始做影院界面
